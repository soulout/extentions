(function(o,l){var n=/^key/,i=/^(?:mouse|contextmenu)|click/,r=/^touch/,c=/^pointer/,a=window;o.simulateSetDefaultWindow=function(e){a=e};o.fn.simulate=function(e,t){return this.each(function(){new o.simulate(this,e,t)})};o.simulate=function(e,t,n){var i=o.camelCase("simulate-"+t);this.target=e;this.options=n;if(this[i]){this[i]()}else{this.simulateEvent(e,t,n)}};o.extend(o.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}});o.extend(o.simulate.prototype,{simulateEvent:function(e,t,n){var i=this.createEvent(t,n);this.dispatchEvent(e,t,i,n)},createEvent:function(e,t){if(n.test(e)){return this.keyEvent(e,t)}if(i.test(e)){return this.mouseEvent(e,t)}if(r.test(e)){return this.touchEvent(e,t)}if(c.test(e)){return this.pointerEvent(e,t)}},mouseEvent:function(e,t){var n,i,r,c;t=o.extend({bubbles:true,cancelable:e!=="mousemove",view:a,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:l},t);if(document.createEvent){n=document.createEvent("MouseEvents");n.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||o(this.target)[0].ownerDocument.body.parentNode);if(n.pageX===0&&n.pageY===0&&Object.defineProperty){i=n.relatedTarget.ownerDocument||document;r=i.documentElement;c=i.body;Object.defineProperty(n,"pageX",{get:function(){return t.clientX+(r&&r.scrollLeft||c&&c.scrollLeft||0)-(r&&r.clientLeft||c&&c.clientLeft||0)}});Object.defineProperty(n,"pageY",{get:function(){return t.clientY+(r&&r.scrollTop||c&&c.scrollTop||0)-(r&&r.clientTop||c&&c.clientTop||0)}})}}else if(document.createEventObject){n=document.createEventObject();o.extend(n,t);n.button={0:1,1:4,2:2}[n.button]||n.button}return n},touchEvent:function(e,t){var n=this.mouseEvent(e,t);n.changedTouches=n.touches=[{identifier:Date.now()+Math.random(),clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY}];return n},pointerEvent:function(e,t){t=o.extend({pointerId:0,width:1,height:1,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,pointerType:"",isPrimary:false},t);var n=this.mouseEvent(e,t);n.pointerId=t.pointerId;n.width=t.width;n.height=t.height;n.pressure=t.pressure;n.tangentialPressure=t.tangentialPressure;n.tiltX=t.tiltX;n.tiltY=t.tiltY;n.pointerType=t.pointerType;n.isPrimary=t.isPrimary;return n},keyEvent:function(t,n){var i;n=o.extend({bubbles:true,cancelable:true,view:a,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:l},n);if(document.createEvent){try{i=document.createEvent("KeyEvents");i.initKeyEvent(t,n.bubbles,n.cancelable,n.view,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode)}catch(e){i=document.createEvent("Events");i.initEvent(t,n.bubbles,n.cancelable);o.extend(i,{view:n.view,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,keyCode:n.keyCode,charCode:n.charCode})}}else if(document.createEventObject){i=document.createEventObject();o.extend(i,n)}if(!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||{}.toString.call(window.opera)==="[object Opera]"){i.keyCode=n.charCode>0?n.charCode:n.keyCode;i.charCode=l}return i},dispatchEvent:function(e,t,n){if(e.dispatchEvent){e.dispatchEvent(n)}else if(e.fireEvent){e.fireEvent("on"+t,n)}},simulateFocus:function(){var e,t=false,n=o(this.target);function i(){t=true}n.bind("focus",i);n[0].focus();if(!t){e=o.Event("focusin");e.preventDefault();n.trigger(e);n.triggerHandler("focus")}n.unbind("focus",i)},simulateBlur:function(){var e,t=false,n=o(this.target);function i(){t=true}n.bind("blur",i);n[0].blur();setTimeout(function(){if(n[0].ownerDocument.activeElement===n[0]){n[0].ownerDocument.body.focus()}if(!t){e=o.Event("focusout");e.preventDefault();n.trigger(e);n.triggerHandler("blur")}n.unbind("blur",i)},1)},simulateClick:function(){var e=o(this.target)[0];if(e.click){e.click()}else{this.simulateEvent(this.target,"click",this.options)}},simulateInput:function(){var e=this.htmlEvent("input",{bubbles:true,cancelable:true});this.dispatchEvent(o(this.target)[0],"input",e)},simulateChange:function(){var e=this.htmlEvent("change",{bubbles:false,cancelable:true});this.dispatchEvent(o(this.target)[0],"change",e)},htmlEvent:function(e,t){var n;if(document.createEvent){n=document.createEvent("HTMLEvents");n.initEvent(e,t.bubbles,t.cancelable)}else if(document.createEventObject){n=document.createEventObject();o.extend(n,t)}return n}});function f(e){var t,n=o(e.ownerDocument);e=o(e);t=e.offset();return{x:t.left+e.outerWidth()/2-n.scrollLeft(),y:t.top+e.outerHeight()/2-n.scrollTop()}}function d(e){var t,n=o(e.ownerDocument);e=o(e);t=e.offset();return{x:t.left-n.scrollLeft(),y:t.top-n.scrollTop()}}o.extend(o.simulate.prototype,{simulateDrag:function(){var e=0,t=this.target,n=this.options,i=n.handle==="corner"?d(t):f(t),r=Math.floor(i.x),c=Math.floor(i.y),o={clientX:r,clientY:c},a=n.dx||(n.x!==l?n.x-r:0),s=n.dy||(n.y!==l?n.y-c:0),u=n.moves||3;this.simulateEvent(t,"mousedown",o);for(;e<u;e++){r+=a/u;c+=s/u;o={clientX:Math.round(r),clientY:Math.round(c)};this.simulateEvent(document,"mousemove",o)}this.simulateEvent(t,"mouseup",o);this.simulateEvent(t,"click",o)}})})($okta);