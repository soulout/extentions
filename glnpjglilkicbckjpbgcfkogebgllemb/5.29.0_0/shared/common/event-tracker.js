Okta.EventTracker=function(r,t){var c=_okta.extend,n=_okta.isUndefined,e=_okta.partial,s=Okta.Q,l=s.all,a={};var o={sso:{metricsName:"Single Sign-on",eventNames:{showModal:"Show dialog",clickPrimaryButton:"Click primary button"}},onTheFlyAppAddition:{metricsName:"On the Fly App Addition",eventNames:{showModal:"Show dialog",clickPrimaryButton:"Click primary button",clickNeverButton:"Click never button",clickFooterLink:"Click footer link"}},offline:{metricsName:"Offline flow",eventNames:{showModal:"Show dialog",clickPrimaryButton:"Click primary button"}},popover:{metricsName:"Popover",eventNames:{firstTime:"First time usage",appLaunch:"App launch",appSearch:"App search",popoverOpened:"Popover opened"}},general:{metricsName:"General",eventNames:{newInstall:"New plugin installation"}}};function p(){return r.getPluginSettings().then(function(e){return e&&e.orgSettings&&e.orgSettings.pluginMixpanelTrackingEnabled})}function m(t,n){return r.getPluginEvents().then(function(e){e.push({eventName:t,properties:n});return r.setPluginEvents(e)})}a.trackEvent=function(a,o,i){if(!i){i={}}return p().then(function(e){if(!e){return s(false)}return l([r.getVersion(),r.getOktaDomain(),t.getBackgroundVersion()]).spread(function(e,t,n){var r=c({metricsName:a,orgUrl:t?t:"N/A",timestamp:(new Date).getTime(),pluginVersion:n,thrushVersion:e?e.contentVersion:"73.56.0"},i);return m(a+":"+o,r)})})};a.onTheFlyAppAddition={trackShowModal:e(a.trackEvent,o.onTheFlyAppAddition.metricsName,o.onTheFlyAppAddition.eventNames.showModal),trackClickPrimaryButton:e(a.trackEvent,o.onTheFlyAppAddition.metricsName,o.onTheFlyAppAddition.eventNames.clickPrimaryButton),trackClickNeverButton:e(a.trackEvent,o.onTheFlyAppAddition.metricsName,o.onTheFlyAppAddition.eventNames.clickNeverButton),trackClickFooterLink:e(a.trackEvent,o.onTheFlyAppAddition.metricsName,o.onTheFlyAppAddition.eventNames.clickFooterLink)};a.offline={trackShowModal:e(a.trackEvent,o.offline.metricsName,o.offline.eventNames.showModal),trackClickPrimaryButton:e(a.trackEvent,o.offline.metricsName,o.offline.eventNames.clickPrimaryButton)};a.general={trackPluginInstalled:function(){return l([r.getVersion(),r.getTrackedFirstTimeActions()]).spread(function(e,t){if(t.pluginInstalled){return s()}if(e&&n(t.pluginInstalled)){return s()}return a.trackEvent(o.general.metricsName,o.general.eventNames.newInstall).then(function(e){t.pluginInstalled=e!==false;return r.setTrackedFirstTimeActions(t)})})}};a.popover={trackFirstTimeLaunch:function(){return l([r.getVersion(),r.getTrackedFirstTimeActions()]).spread(function(e,t){if(t.popoverLaunched){return s()}if(e&&n(t.pluginInstalled)){return s()}return a.trackEvent(o.popover.metricsName,o.popover.eventNames.firstTime).then(function(e){t.popoverLaunched=e!==false;r.setTrackedFirstTimeActions(t)})})},trackPopoverOpened:function(){return r.getPopoverOpenedBy().then(function(e){return a.trackEvent(o.popover.metricsName,o.popover.eventNames.popoverOpened,{openedBy:e?e:"not supported"})})},trackAppLaunch:e(a.trackEvent,o.popover.metricsName,o.popover.eventNames.appLaunch),trackAppSearch:e(a.trackEvent,o.popover.metricsName,o.popover.eventNames.appSearch)};a.singleSignOn={trackShowModal:e(a.trackEvent,o.sso.metricsName,o.sso.eventNames.showModal),trackClickPrimaryButton:e(a.trackEvent,o.sso.metricsName,o.sso.eventNames.clickPrimaryButton)};function i(){return s()}a.changePassword={trackShowModal:i,trackGenerateNewRandomPassword:i,trackGenerateNewRandomPasswordClick:i,trackFillWithGeneratedRandomPassword:i,trackAutofillExistingPassword:i,trackCopyToClipboard:i};a.generatePasswordOnSignUp={trackShowModal:i,trackGenerateNewRandomPassword:i,trackGenerateNewRandomPasswordClick:i,trackFillWithGeneratedRandomPassword:i,trackCopyToClipboard:i,trackDisableGeneratePassword:i,trackCloseModal:i};a.antiPhishingWarning={trackShowModal:i,trackGetMeOutOfHere:i,trackContinueAnyway:i};a.antiPhishingError={trackShowModal:i,trackCloseTab:i};return a};