(function t(){var n=Okta.fn.bg={},e=_okta.find,i=_okta.pick,u=_okta.each,o=_okta.isEmpty,r=Okta.fn.storage.wrapVal,c=Okta.fn.storage.unwrapVal,s="AUTH_SITES",f="OKTA_DOMAIN",g="OKTA_ACCOUNT_WHITE_LIST",A="DBG_PLUGIN_SETTINGS";n.findAuthSite=function(t,n){var a=c(t.get(s));return e(a,function(t){return n.matches(t.authURL)})};n.getLastAuthTimestamp=function(t,n){return c(t.get("basicAuth-"+n))||0};n.setLastAuthTimestamp=function(t,n,a){var e=r(a);return t.set("basicAuth-"+n,e)};n.getBasicAuthCreds=function(t,n,a){var e=c(n.get(f)),r={type:"get",url:e+a,headers:{Accept:"application/json;charset=utf-8"}};return t.ajax(r)};n.getPendingConsentAccount=function(t){var n=c(t.get(A));var a=n&&n.disablePluginAccountChooser;if(a){return""}var e=[];var r=c(t.get(g));u(r,function(t){t=i(t,"login","orgDomainUrl");if(!o(t)){e.push(t)}});if(o(e)){return""}return JSON.stringify(e)}})();