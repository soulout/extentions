Okta.Request=function(s,o,a){var r=Okta.Q,u=Okta.fn.storage.wrapVal,f=_okta.omit,t={};t.ajax=function(t){var n=t.storeResponse,e=f(t,"storeResponse"),i;if(!n){return s(e).fail(function(t){return t})}if(n.destination!=="persistent"&&n.destination!=="session"){throw"StoreResponse destination is invalid: "+n.destination}i=n.destination==="session"?o:a;i.set(n.key,n.pendingVal);s(e).then(function(t){i.set(n.key,u(t))}).fail(function(){i.set(n.key,null)});return r(true)};return t};