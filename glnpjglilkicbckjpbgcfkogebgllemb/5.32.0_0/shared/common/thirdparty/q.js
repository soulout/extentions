(function(f){"use strict";var c=false;try{throw new Error}catch(t){c=!!t.stack}var e=Object.prototype.toString;var t="Function";var r=f.window[t].prototype.toString;var o=/^\[object .+?Constructor\]$/;var i=RegExp("^"+String(e).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s(t){var n=typeof t;return n=="function"?i.test(r.call(t)):t&&n=="object"&&o.test(e.call(t))||false}var u=U();var a;var n=function(){};var p=function(){var e={task:void 0,next:null};var n=e;var r=false;var o=void 0;var i=false;function u(){while(e.next){e=e.next;var t=e.task;e.task=void 0;var n=e.domain;if(n){e.domain=void 0;n.enter()}try{t()}catch(t){if(i){if(n){n.exit()}f.WindowUtil.setTimeout(u,0);if(n){n.enter()}throw t}else{setTimeout(function(){throw t},0)}}if(n){n.exit()}}r=false}p=function(t){n=n.next={task:t,domain:i&&process.domain,next:null};if(!r){r=true;o()}};if(typeof process!=="undefined"&&process.nextTick){i=true;o=function(){process.nextTick(u)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"&&s(setImmediate.bind)){o=setImmediate.bind(window,u)}else{o=function(){setImmediate(u)}}}else if(typeof MessageChannel!=="undefined"){var t=new MessageChannel;t.port1.onmessage=function(){o=c;t.port1.onmessage=u;u()};var c=function(){t.port2.postMessage(0)};o=function(){f.WindowUtil.setTimeout(u,0);c()}}else{o=function(){f.WindowUtil.setTimeout(u,0)}}return p}();var l=f.window[t].call;function d(t){return function(){return l.apply(t,arguments)}}var v=d(Array.prototype.slice);var h=d(function(t,n){var e=0,r=this.length;if(arguments.length===1){do{if(e in this){n=this[e++];break}if(++e>=r){throw new TypeError}}while(1)}for(;e<r;e++){if(e in this){n=t(n,this[e],e)}}return n});var y=d(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++){if(this[n]===t){return n}}return-1});var m=d(Array.prototype.map||function(r,o){var i=this;var u=[];h(i,function(t,n,e){u.push(r.call(o,n,e,i))},void 0);return u});var w=s(Object.create)?Object.create:function(t){function n(){}n.prototype=t;return new n};var j=d(Object.prototype.hasOwnProperty);var k=Object.keys||function(t){var n=[];for(var e in t){if(j(t,e)){n.push(e)}}return n};var g=d(Object.prototype.toString);function b(t){return t===Object(t)}function x(t){return g(t)==="[object StopIteration]"||t instanceof R}var R;if(typeof ReturnValue!=="undefined"){R=ReturnValue}else{R=function(t){this.value=t}}var O=false;var T="From previous event:";function S(t,n){if(c&&n.stack&&typeof t==="object"&&t!==null&&t.stack&&t.stack.indexOf(T)===-1){var e=[];for(var r=n;!!r;r=r.source){if(r.stack){e.unshift(r.stack)}}e.unshift(t.stack);var o=e.join("\n"+T+"\n");t.stack=N(o)}}function N(t){var n=t.split("\n");var e=[];for(var r=0;r<n.length;++r){var o=n[r];if(!P(o)&&!E(o)&&o){e.push(o)}}return e.join("\n")}function E(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function D(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n){return[n[1],Number(n[2])]}var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e){return[e[1],Number(e[2])]}var r=/.*@(.+):(\d+)$/.exec(t);if(r){return[r[1],Number(r[2])]}}function P(t){var n=D(t);if(!n){return false}var e=n[0];var r=n[1];return e===a&&r>=u&&r<=yt}function U(){if(!c){return}try{throw new Error}catch(t){var n=t.stack.split("\n");var e=n[0].indexOf("@")>0?n[1]:n[2];var r=D(e);if(!r){return}a=r[0];return r[1]}}function $(t,n,e){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(n+" is deprecated, use "+e+" instead.",new Error("").stack)}return t.apply(t,arguments)}}function C(t){if(Q(t)){return t}if(V(t)){return rt(t)}else{return et(t)}}C.resolve=C;C.nextTick=p;C.longStackSupport=false;C.defer=I;function I(){var o=[],i=[],u;var t=w(I.prototype);var n=w(M.prototype);n.promiseDispatch=function(t,n,e){var r=v(arguments);if(o){o.push(r);if(n==="when"&&e[1]){i.push(e[1])}}else{p(function(){u.promiseDispatch.apply(u,r)})}};n.valueOf=$(function(){if(o){return n}var t=B(u);if(Q(t)){u=t}return t},"valueOf","inspect");n.inspect=function(){if(!u){return{state:"pending"}}return u.inspect()};if(C.longStackSupport&&c){try{throw new Error}catch(t){n.stack=t.stack.substring(t.stack.indexOf("\n")+1)}}function e(e){u=e;n.source=e;h(o,function(t,n){p(function(){e.promiseDispatch.apply(e,n)})},void 0);o=void 0;i=void 0}t.promise=n;t.resolve=function(t){if(u){return}e(C(t))};t.fulfill=function(t){if(u){return}e(et(t))};t.reject=function(t){if(u){return}e(nt(t))};t.notify=function(e){if(u){return}h(i,function(t,n){p(function(){n(e)})},void 0)};return t}I.prototype.makeNodeResolver=function(){var e=this;return function(t,n){if(t){e.reject(t)}else if(arguments.length>2){e.resolve(v(arguments,1))}else{e.resolve(n)}}};C.promise=A;function A(t){if(typeof t!=="function"){throw new TypeError("resolver must be a function.")}var n=I();try{t(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}return n.promise}C.passByCopy=function(t){return t};M.prototype.passByCopy=function(){return this};C.join=function(t,n){return C(t).join(n)};M.prototype.join=function(t){return C([this,t]).spread(function(t,n){if(t===n){return t}else{throw new Error("Can't join: not the same: "+t+" "+n)}})};C.race=F;function F(o){return A(function(t,n){for(var e=0,r=o.length;e<r;e++){C(o[e]).then(t,n)}})}M.prototype.race=function(){return this.then(C.race)};C.makePromise=M;function M(o,i,n){if(i===void 0){i=function(t){return nt(new Error("Promise does not support operation: "+t))}}if(n===void 0){n=function(){return{state:"unknown"}}}var u=w(M.prototype);u.promiseDispatch=function(t,n,e){var r;try{if(o[n]){r=o[n].apply(u,e)}else{r=i.call(u,n,e)}}catch(t){r=nt(t)}if(t){t(r)}};u.inspect=n;if(n){var t=n();if(t.state==="rejected"){u.exception=t.reason}u.valueOf=$(function(){var t=n();if(t.state==="pending"||t.state==="rejected"){return u}return t.value})}return u}M.prototype.toString=function(){return"[object Promise]"};M.prototype.then=function(n,e,r){var o=this;var i=I();var u=false;function c(t){try{return typeof n==="function"?n(t):t}catch(t){return nt(t)}}function f(t){if(typeof e==="function"){S(t,o);try{return e(t)}catch(t){return nt(t)}}return nt(t)}function s(t){return typeof r==="function"?r(t):t}p(function(){o.promiseDispatch(function(t){if(u){return}u=true;i.resolve(c(t))},"when",[function(t){if(u){return}u=true;i.resolve(f(t))}])});o.promiseDispatch(void 0,"when",[void 0,function(t){var n;var e=false;try{n=s(t)}catch(t){e=true;if(C.onerror){C.onerror(t)}else{throw t}}if(!e){i.notify(n)}}]);return i.promise};C.when=W;function W(t,n,e,r){return C(t).then(n,e,r)}M.prototype.thenResolve=function(t){return this.then(function(){return t})};C.thenResolve=function(t,n){return C(t).thenResolve(n)};M.prototype.thenReject=function(t){return this.then(function(){throw t})};C.thenReject=function(t,n){return C(t).thenReject(n)};C.nearer=B;function B(t){if(Q(t)){var n=t.inspect();if(n.state==="fulfilled"){return n.value}}return t}C.isPromise=Q;function Q(t){return b(t)&&typeof t.promiseDispatch==="function"&&typeof t.inspect==="function"}C.isPromiseAlike=V;function V(t){return b(t)&&typeof t.then==="function"}C.isPending=L;function L(t){return Q(t)&&t.inspect().state==="pending"}M.prototype.isPending=function(){return this.inspect().state==="pending"};C.isFulfilled=q;function q(t){return!Q(t)||t.inspect().state==="fulfilled"}M.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};C.isRejected=z;function z(t){return Q(t)&&t.inspect().state==="rejected"}M.prototype.isRejected=function(){return this.inspect().state==="rejected"};var G=[];var H=[];var J=false;var K=true;function X(){if(!J&&typeof window!=="undefined"&&!window.Touch&&window.console){console.warn("[Q] Unhandled rejection reasons (should be empty):",G)}J=true}function Y(){for(var t=0;t<G.length;t++){var n=G[t];console.warn("Unhandled rejection reason:",n)}}function Z(){G.length=0;H.length=0;J=false;if(!K){K=true;if(typeof process!=="undefined"&&process.on){process.on("exit",Y)}}}function _(t,n){if(!K){return}H.push(t);if(n&&typeof n.stack!=="undefined"){G.push(n.stack)}else{G.push("(no stack) "+n)}X()}function tt(t){if(!K){return}var n=y(H,t);if(n!==-1){H.splice(n,1);G.splice(n,1)}}C.resetUnhandledRejections=Z;C.getUnhandledReasons=function(){return G.slice()};C.stopUnhandledRejectionTracking=function(){Z();if(typeof process!=="undefined"&&process.on){process.removeListener("exit",Y)}K=false};Z();C.reject=nt;function nt(n){var t=M({when:function(t){if(t){tt(this)}return t?t(n):this}},function t(){return this},function t(){return{state:"rejected",reason:n}});_(t,n);return t}C.fulfill=et;function et(e){return M({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){if(t===null||t===void 0){return e.apply(void 0,n)}else{return e[t].apply(e,n)}},apply:function(t,n){return e.apply(t,n)},keys:function(){return k(e)}},void 0,function t(){return{state:"fulfilled",value:e}})}function rt(t){var n=I();p(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}});return n.promise}C.master=ot;function ot(r){return M({isDef:function(){}},function t(n,e){return at(r,n,e)},function(){return C(r).inspect()})}C.spread=it;function it(t,n,e){return C(t).spread(n,e)}M.prototype.spread=function(n,t){return this.all().then(function(t){return n.apply(void 0,t)},t)};C.async=ut;function ut(n){return function(){function t(t,n){var e;if(O){try{e=r[t](n)}catch(t){return nt(t)}if(e.done){return e.value}else{return W(e.value,o,i)}}else{try{e=r[t](n)}catch(t){if(x(t)){return t.value}else{return nt(t)}}return W(e,o,i)}}var r=n.apply(this,arguments);var o=t.bind(t,"next");var i=t.bind(t,"throw");return o()}}C.spawn=ct;function ct(t){C.done(C.async(t)())}C["return"]=ft;function ft(t){throw new R(t)}C.promised=st;function st(e){return function(){return it([this,pt(arguments)],function(t,n){return e.apply(t,n)})}}C.dispatch=at;function at(t,n,e){return C(t).dispatch(n,e)}M.prototype.dispatch=function(t,n){var e=this;var r=I();p(function(){e.promiseDispatch(r.resolve,t,n)});return r.promise};C.get=function(t,n){return C(t).dispatch("get",[n])};M.prototype.get=function(t){return this.dispatch("get",[t])};C.set=function(t,n,e){return C(t).dispatch("set",[n,e])};M.prototype.set=function(t,n){return this.dispatch("set",[t,n])};C.del=C["delete"]=function(t,n){return C(t).dispatch("delete",[n])};M.prototype.del=M.prototype["delete"]=function(t){return this.dispatch("delete",[t])};C.mapply=C.post=function(t,n,e){return C(t).dispatch("post",[n,e])};M.prototype.mapply=M.prototype.post=function(t,n){return this.dispatch("post",[t,n])};C.send=C.mcall=C.invoke=function(t,n){return C(t).dispatch("post",[n,v(arguments,2)])};M.prototype.send=M.prototype.mcall=M.prototype.invoke=function(t){return this.dispatch("post",[t,v(arguments,1)])};C.fapply=function(t,n){return C(t).dispatch("apply",[void 0,n])};M.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])};C["try"]=C.fcall=function(t){return C(t).dispatch("apply",[void 0,v(arguments,1)])};M.prototype.fcall=function(){return this.dispatch("apply",[void 0,v(arguments)])};C.fbind=function(t){var n=C(t);var e=v(arguments,1);return function t(){return n.dispatch("apply",[this,e.concat(v(arguments))])}};M.prototype.fbind=function(){var n=this;var e=v(arguments);return function t(){return n.dispatch("apply",[this,e.concat(v(arguments))])}};C.keys=function(t){return C(t).dispatch("keys",[])};M.prototype.keys=function(){return this.dispatch("keys",[])};C.all=pt;function pt(t){return W(t,function(o){var i=0;var u=I();h(o,function(t,n,e){var r;if(Q(n)&&(r=n.inspect()).state==="fulfilled"){o[e]=r.value}else{++i;W(n,function(t){o[e]=t;if(--i===0){u.resolve(o)}},u.reject,function(t){u.notify({index:e,value:t})})}},void 0);if(i===0){u.resolve(o)}return u.promise})}M.prototype.all=function(){return pt(this)};C.allResolved=$(lt,"allResolved","allSettled");function lt(t){return W(t,function(t){t=m(t,C);return W(pt(m(t,function(t){return W(t,n,n)})),function(){return t})})}M.prototype.allResolved=function(){return lt(this)};C.allSettled=dt;function dt(t){return C(t).allSettled()}M.prototype.allSettled=function(){return this.then(function(t){return pt(m(t,function(t){t=C(t);function n(){return t.inspect()}return t.then(n,n)}))})};C.fail=C["catch"]=function(t,n){return C(t).then(void 0,n)};M.prototype.fail=M.prototype["catch"]=function(t){return this.then(void 0,t)};C.progress=vt;function vt(t,n){return C(t).then(void 0,void 0,n)}M.prototype.progress=function(t){return this.then(void 0,void 0,t)};C.fin=C["finally"]=function(t,n){return C(t)["finally"](n)};M.prototype.fin=M.prototype["finally"]=function(n){n=C(n);return this.then(function(t){return n.fcall().then(function(){return t})},function(t){return n.fcall().then(function(){throw t})})};C.done=function(t,n,e,r){return C(t).done(n,e,r)};M.prototype.done=function(t,n,e){var r=function(t){p(function(){S(t,o);if(C.onerror){C.onerror(t)}else{throw t}})};var o=t||n||e?this.then(t,n,e):this;if(typeof process==="object"&&process&&process.domain){r=process.domain.bind(r)}o.then(void 0,r)};C.timeout=function(t,n,e){return C(t).timeout(n,e)};M.prototype.timeout=function(t,n){var e=I();var r=setTimeout(function(){e.reject(new Error(n||"Timed out after "+t+" ms"))},t);this.then(function(t){clearTimeout(r);e.resolve(t)},function(t){clearTimeout(r);e.reject(t)},e.notify);return e.promise};C.delay=function(t,n){if(n===void 0){n=t;t=void 0}return C(t).delay(n)};M.prototype.delay=function(e){return this.then(function(t){var n=I();setTimeout(function(){n.resolve(t)},e);return n.promise})};C.nfapply=function(t,n){return C(t).nfapply(n)};M.prototype.nfapply=function(t){var n=I();var e=v(t);e.push(n.makeNodeResolver());this.fapply(e).fail(n.reject);return n.promise};C.nfcall=function(t){var n=v(arguments,1);return C(t).nfapply(n)};M.prototype.nfcall=function(){var t=v(arguments);var n=I();t.push(n.makeNodeResolver());this.fapply(t).fail(n.reject);return n.promise};C.nfbind=C.denodeify=function(e){var r=v(arguments,1);return function(){var t=r.concat(v(arguments));var n=I();t.push(n.makeNodeResolver());C(e).fapply(t).fail(n.reject);return n.promise}};M.prototype.nfbind=M.prototype.denodeify=function(){var t=v(arguments);t.unshift(this);return C.denodeify.apply(void 0,t)};C.nbind=function(r,o){var i=v(arguments,2);return function(){var t=i.concat(v(arguments));var n=I();t.push(n.makeNodeResolver());function e(){return r.apply(o,arguments)}C(e).fapply(t).fail(n.reject);return n.promise}};M.prototype.nbind=function(){var t=v(arguments,0);t.unshift(this);return C.nbind.apply(void 0,t)};C.nmapply=C.npost=function(t,n,e){return C(t).npost(n,e)};M.prototype.nmapply=M.prototype.npost=function(t,n){var e=v(n||[]);var r=I();e.push(r.makeNodeResolver());this.dispatch("post",[t,e]).fail(r.reject);return r.promise};C.nsend=C.nmcall=C.ninvoke=function(t,n){var e=v(arguments,2);var r=I();e.push(r.makeNodeResolver());C(t).dispatch("post",[n,e]).fail(r.reject);return r.promise};M.prototype.nsend=M.prototype.nmcall=M.prototype.ninvoke=function(t){var n=v(arguments,1);var e=I();n.push(e.makeNodeResolver());this.dispatch("post",[t,n]).fail(e.reject);return e.promise};C.nodeify=ht;function ht(t,n){return C(t).nodeify(n)}M.prototype.nodeify=function(n){if(n){this.then(function(t){p(function(){n(null,t)})},function(t){p(function(){n(t)})})}else{return this}};f.Q=C;var yt=U()})(Okta);