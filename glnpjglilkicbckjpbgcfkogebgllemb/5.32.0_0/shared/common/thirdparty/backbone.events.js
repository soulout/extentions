(function(o,t){var e=[];var s=e.slice;var i=t.Events={on:function(t,e,i){if(!u(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var n=this._events[t]||(this._events[t]=[]);n.push({callback:e,context:i,ctx:i||this});return this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var n=this;var s=o.once(function(){n.off(t,s);e.apply(this,arguments)});s._callback=e;return this.on(t,s,i)},off:function(t,e,i){var n,s,r,a,l,c,h,f;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i){this._events={};return this}a=t?[t]:o.keys(this._events);for(l=0,c=a.length;l<c;l++){t=a[l];if(r=this._events[t]){this._events[t]=n=[];if(e||i){for(h=0,f=r.length;h<f;h++){s=r[h];if(e&&e!==s.callback&&e!==s.callback._callback||i&&i!==s.context){n.push(s)}}}if(!n.length)delete this._events[t]}}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t];var n=this._events.all;if(i)r(i,e);if(n)r(n,arguments);return this},stopListening:function(t,e,i){var n=this._listeners;if(!n)return this;var s=!e&&!i;if(typeof e==="object")i=this;if(t)(n={})[t._listenerId]=t;for(var r in n){n[r].off(e,i,this);if(s)delete this._listeners[r]}return this}};var c=/\s+/;var u=function(t,e,i,n){if(!i)return true;if(typeof i==="object"){for(var s in i){t[e].apply(t,[s,i[s]].concat(n))}return false}if(c.test(i)){var r=i.split(c);for(var a=0,l=r.length;a<l;a++){t[e].apply(t,[r[a]].concat(n))}return false}return true};var r=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],l=e[2];switch(e.length){case 0:while(++n<s)(i=t[n]).callback.call(i.ctx);return;case 1:while(++n<s)(i=t[n]).callback.call(i.ctx,r);return;case 2:while(++n<s)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:while(++n<s)(i=t[n]).callback.call(i.ctx,r,a,l);return;default:while(++n<s)(i=t[n]).callback.apply(i.ctx,e)}};var n={listenTo:"on",listenToOnce:"once"};o.each(n,function(r,t){i[t]=function(t,e,i){var n=this._listeners||(this._listeners={});var s=t._listenerId||(t._listenerId=o.uniqueId("l"));n[s]=t;if(typeof e==="object")i=this;t[r](e,i,this);return this}})})(_okta,Okta);